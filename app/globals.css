@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─────────────────────────────────────────────
   BRAND COLOURS — single source of truth
   Define here; tailwind.config.ts references these for bg-success, etc.
   Usage: bg-brand/50  text-success  border-warning  bg-danger
   #3fafd7  → brand   (blue)
   #ff9503  → warning (amber)
   #eb5c59  → danger  (red / clock-out)
   #1a8754  → success (green / clock-in)
   #212a35  → dark    (dark bg)
───────────────────────────────────────────── */

@layer base {
  :root {
    /* Brand colours — single source; tailwind uses these for bg-success, etc. */
    --success: 26 135 84;   /* #1a8754 green */
    --warning: 255 149 3;   /* #ff9503 amber */
    --danger: 235 92 89;    /* #eb5c59 red */
    --brand: 63 175 215;    /* #3fafd7 blue */
    --dark: 33 42 53;       /* #212a35 */

    /* Button/arrow hover — single variable for consistency */
    --button-hover-brightness: 0.9;

    /* Backgrounds */
    --background: 0 0% 97%;               /* near-white */
    --foreground: 210 25% 12%;            /* near-black */

    /* Cards / surfaces */
    --card: 0 0% 100%;
    --card-foreground: 210 25% 12%;

    /* Popovers */
    --popover: 0 0% 100%;
    --popover-foreground: 210 25% 12%;

    /* Primary → blue #3fafd7 */
    --primary: 196 55% 54%;
    --primary-foreground: 0 0% 100%;

    /* Secondary → muted blue tint */
    --secondary: 196 30% 92%;
    --secondary-foreground: 196 55% 30%;

    /* Muted */
    --muted: 0 0% 93%;
    --muted-foreground: 210 10% 45%;

    /* Accent → same blue, lighter */
    --accent: 196 40% 88%;
    --accent-foreground: 196 55% 25%;

    /* Destructive → red #eb5c59 */
    --destructive: 1 77% 63%;
    --destructive-foreground: 0 0% 100%;

    /* Borders / inputs */
    --border: 210 15% 85%;
    --input: 0 0% 100%;
    --ring: 196 55% 54%;                  /* blue focus ring */

    /* Charts */
    --chart-1: 196 55% 54%;               /* blue */
    --chart-2: 35 100% 50%;               /* amber */
    --chart-3: 1 77% 63%;                 /* red */
    --chart-4: 150 68% 32%;               /* green */
    --chart-5: 196 30% 70%;               /* light blue */

    --radius: 0.5rem;
  }

  .dark {
    /* Backgrounds — your specified dark bg */
    --background: 210 25% 17%;            /* #212a35 */
    --foreground: 0 0% 95%;

    /* Cards — slightly elevated */
    --card: 210 22% 22%;
    --card-foreground: 0 0% 95%;

    /* Popovers */
    --popover: 210 22% 25%;
    --popover-foreground: 0 0% 95%;

    /* Primary → blue #3fafd7 (same in both modes) */
    --primary: 196 55% 54%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 210 20% 28%;
    --secondary-foreground: 0 0% 85%;

    /* Muted */
    --muted: 210 18% 24%;
    --muted-foreground: 210 10% 55%;

    /* Accent */
    --accent: 210 20% 30%;
    --accent-foreground: 0 0% 90%;

    /* Destructive → red #eb5c59 */
    --destructive: 1 77% 63%;
    --destructive-foreground: 0 0% 100%;

    /* Borders / inputs */
    --border: 210 18% 30%;
    --input: 210 22% 20%;
    --ring: 196 55% 54%;

    /* Charts */
    --chart-1: 196 55% 60%;
    --chart-2: 35 100% 55%;
    --chart-3: 1 77% 68%;
    --chart-4: 150 68% 42%;
    --chart-5: 196 30% 75%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ─────────────────────────────────────────────
   SEMANTIC COLOUR UTILITIES
   Use Tailwind classes: bg-success  text-warning  border-danger  etc.
───────────────────────────────────────────── */
@layer components {

  /* ── Clock / Timesheet tab strip ─────────── */
  .clock-tab-list {
    background-color: #171717 !important;
    border: none !important;
    border-radius: 25px !important;
    padding: 7px 5px 7px !important;
  }

  .clock-tab-trigger {
    flex: 1 !important;
    display: block !important;
    text-align: center !important;
    font-size: 20px !important;
    line-height: 30px !important;
    padding: 0.5rem 1rem !important;
    transition: background-color 0.2s, color 0.2s;
    position: relative !important;
    z-index: 1 !important;
  }
  .clock-tab-trigger::after {
    display: none !important;
  }
  .clock-tab-trigger[data-state="active"] {
    background-color: transparent !important;
    border: none !important;
    color: #fff !important;
    border-radius: 24px !important;
  }
  .clock-tab-trigger[data-state="inactive"] {
    background-color: rgb(var(--dark) / 0.8) !important;
    border-radius: 24px !important;
    color: rgb(var(--brand)) !important;
  }
  .clock-tab-trigger:disabled {
    opacity: 0.4 !important;
    pointer-events: none !important;
  }

  /* Sliding active indicator */
  .clock-tab-indicator {
    background-color: rgb(var(--brand)) !important;
    border-radius: 24px !important;
    border: none !important;
    box-shadow: none !important;
  }

  /* Tab arrow indicator — matches button colour per tab */
  .clock-tab-arrow[data-tab="start"] { border-bottom-color: rgb(var(--success)) !important; }
  .clock-tab-arrow[data-tab="break"] { border-bottom-color: rgb(var(--warning)) !important; }
  .clock-tab-arrow[data-tab="end"]   { border-bottom-color: rgb(var(--danger)) !important; }

  /* Arrow matches button hover via :has() — pure CSS, no JS */
  .clock-tabs-wrapper:has(.clock-in-btn:hover:not(:disabled)) .clock-tab-arrow[data-tab="start"],
  .clock-tabs-wrapper:has(.break-btn:hover:not(:disabled)) .clock-tab-arrow[data-tab="break"],
  .clock-tabs-wrapper:has(.clock-out-btn:hover:not(:disabled)) .clock-tab-arrow[data-tab="end"] {
    filter: brightness(var(--button-hover-brightness));
  }

  /* ── PIN error shake ──────────────────────── */
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-6px); }
    40%, 80% { transform: translateX(6px); }
  }
  .animate-shake {
    animation: shake 0.4s ease-in-out;
  }

  /* ── PIN dots ─────────────────────────────── */
  .pin-filled {
    background-color: rgb(var(--brand)) !important;
  }

  /* ── Action buttons (use Tailwind or these classes) ──────────────── */

  /* Clock IN → success */
  .clock-in-btn {
    background-color: rgb(var(--success)) !important;
    color: #fff !important;
  }
  .clock-in-btn:hover:not(:disabled) {
    filter: brightness(var(--button-hover-brightness));
  }

  /* Break → warning */
  .break-btn {
    background-color: rgb(var(--warning)) !important;
    color: #fff !important;
  }
  .break-btn:hover:not(:disabled) {
    filter: brightness(var(--button-hover-brightness));
  }

  /* Clock OUT → danger */
  .clock-out-btn {
    background-color: rgb(var(--danger)) !important;
    color: #fff !important;
  }
  .clock-out-btn:hover:not(:disabled) {
    filter: brightness(var(--button-hover-brightness));
  }

  /* Generic primary (brand) */
  .primary-btn {
    background-color: rgb(var(--brand)) !important;
    color: #fff !important;
  }
  .primary-btn:hover:not(:disabled) {
    filter: brightness(var(--button-hover-brightness));
  }

  /* ── Status badges ────────────────────────── */
  .badge-clocked-in  { background-color: rgb(var(--success)); color: #fff; }
  .badge-on-break    { background-color: rgb(var(--warning)); color: #fff; }
  .badge-clocked-out { background-color: rgb(var(--danger));  color: #fff; }
  .badge-info        { background-color: rgb(var(--brand));   color: #fff; }
}